Subdomain Enumeration

We will explore three methods of subdomain enumeration:
	Brute Force
	OSINT
	Vitual Host

OSINT - TSL/SSL Certificates

When a Secure Socket Layer (SSL) or Transport Layer Security (TSL) certificate
is create, the Certificate Authority CA, takes part in Certificate Transparency
(CT) logs, this can be used to our advantage since they are publicly accessible
logs created for a a domain name. We can used this to our advantage to find
subdomains belonging to a doman. DBs of CT logs:
	http://crt.sh/
	https://ui.ctsearch.entrust.com/ui/ctsearchui

OSINT - Search Engines

Using search engine filters for advance search we can isolate subdomains
as such "-site:www.domain.com site:*.domain.com"
This will return only subdomains.

Domain Name System (DNS) Brute Force

Bruteforcing DNS subdomains is very similar to bruteforcing pages of a website
with GoBuster. We can use a dictionary of DNS subdomains and the dnsrecon tool
to automate this. Dnsrecon offers several modes of recon.

Automation/OSINT with Sublist3r

We can Automate the OSINT information above using the tool Sublist3r which searches
the internet to give you subdomains. 
Example: ./sublister.py -d domain.com

sublister does not work at the time of writing.

Virtual Hosts

Sudomains are not always publically available, like development applications and
admin portals. Often these are kept on private DNS servers or recorded in the
developers /etc/hosts file or for windows :\windows\system32\drivers\etc\hosts
file.

Because web servers can host more than one website, we can use the Host Header
to find new subdomains, we can modify request and see the response to figure out
if we've found a new site.

We can use the tool FUZZ for this as follows.

ffuf -w path/to/wordlist -u http://url -H "HOST: FUZZ.domain.name" (the keyword
FUZZ is the subdomain place holder)

This command will always yield results, and so we filter out the most common
response size by running the command again adding the switch: -fs <size>

NOTE: Fuzz can be used like GoBuster in the following manner
ffuf -w path/to/wordlist -u http://url/FUZZ

